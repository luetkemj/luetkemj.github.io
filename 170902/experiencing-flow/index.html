<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.5 'Karla',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Karla',sans-serif;font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:'Karla',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.125rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:'Karla',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.07323rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:'Karla',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.04824rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:'Karla',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:'Karla',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:0.97672rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:'Karla',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:0.96528rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}ul{margin-left:1.5rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.5rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;font-size:0.85rem;line-height:1.5rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;font-size:1rem;line-height:1.5rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}blockquote{margin-left:1.5rem;margin-right:1.5rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.5rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.5rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.5rem;margin-bottom:calc(1.5rem / 2);margin-top:calc(1.5rem / 2);}li > ul{margin-left:1.5rem;margin-bottom:calc(1.5rem / 2);margin-top:calc(1.5rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.5rem / 2);}code{font-size:0.85rem;line-height:1.5rem;}kbd{font-size:0.85rem;line-height:1.5rem;}samp{font-size:0.85rem;line-height:1.5rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1rem;padding-right:1rem;padding-top:0.75rem;padding-bottom:calc(0.75rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}</style><style data-href="/styles.e6bf4806c6f7103507de.css">.header{padding:24px}.header__masthead{display:flex;justify-content:space-between;align-items:flex-start}.header__masthead a{text-decoration:none;color:#50e3c2;-webkit-transition:color .15s ease;transition:color .15s ease}.header__masthead__logo{width:74px;margin-left:24px}.header__masthead__logo fill{color:#50e3c2}@media screen and (min-width:360px){.header__masthead__logo{width:84px}}@media screen and (min-width:420px){.header__masthead__logo{width:88px}}@media screen and (min-width:460px){.header__masthead__logo{width:auto}}.header__masthead__name{font-size:18px;margin-bottom:8px}.header__masthead__tagline{font-size:16px;text-transform:uppercase;letter-spacing:1px}.footer{border-top:1px solid #e8e8e8;padding:30px 24px 24px;margin-top:90px;display:flex;align-items:center;flex-direction:column-reverse}@media screen and (min-width:650px){.footer{justify-content:space-between;flex-direction:row}}.footer__heart{order:1;color:#ff6680}@media screen and (min-width:650px){.footer__heart{order:0}}.footer__list{list-style:none;margin:0}.footer__list-item{display:inline}.footer__list-item:after{content:" ~ "}.footer__list-item:last-child:after{display:none}*{box-sizing:border-box}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}a{text-decoration:none;color:#50e3c2}.layout__wrapper{display:flex;flex-direction:column;min-height:100vh}.layout__sprinkles{position:fixed}.layout__header{position:fixed;width:100vw}.layout__content{width:100%;max-width:960px;padding:0 1.0875rem 1.45rem;margin:183px auto 0;flex:1 1}.layout__content>div{background:hsla(0,0%,100%,.85);position:relative;z-index:1}code[class*=language-],pre[class*=language-]{color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:#073642}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.blog-template{max-width:592px;margin:0 auto}.blog-template__post{text-align:right}.blog-template__date{font-size:14px;font-family:Inconsolata;margin-bottom:8px;text-align:left}.blog-template__title{font-size:18px;text-transform:uppercase;margin-bottom:30px;text-align:left}.blog-template__content{text-align:left}.blog-template img{border:1px solid #e8e8e8;padding:8px}.blog-template img.blog-template__banner-image{border:0;padding:0;text-align:right;margin-bottom:0}.blog-template__nav{display:flex;margin-top:90px;justify-content:space-between}.blog-template__nav__next{text-align:right}.blog-template__nav__previous{text-align:left}.blog-template del{color:#e8e8e8}.blog-template blockquote{font-style:italic;padding:1em 0;border-top:1px solid #efefef;border-bottom:1px solid #efefef}.duthaldumat{color:#e43800}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#efefef;border:1px solid #eee}.list-item{display:grid;align-items:baseline;position:relative;line-height:1.4;margin-bottom:0}.list-item:hover{background-color:#50e3c2}.list-item:hover .list-item__date,.list-item:hover .list-item__link{color:#fff}.list-item:after{content:"";display:block;position:absolute;width:100%;height:1px;bottom:0;background:#828282}.list-item--with-date{grid-template-columns:6ch 1fr}.list-item__date{font-family:Inconsolata;padding-right:1ch;color:#828282;font-size:14px}.list-item__link{color:#111;font-size:18px;text-transform:uppercase;font-family:Karla}@media screen and (min-width:650px){.index{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:24px}}.index__header{font-size:16px;font-weight:700;text-transform:uppercase;line-height:1.4;margin-bottom:0;border-bottom:1px solid #828282}.index__post-list{list-style-type:none;margin:0 0 1.7em}</style><meta name="generator" content="Gatsby 2.18.17"/><title data-react-helmet="true">Experiencing Flow ¬∑ luetkemj</title><link data-react-helmet="true" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Karla:400,400i,700,700i"/><link data-react-helmet="true" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata"/><meta data-react-helmet="true" name="description" content="Facebook&#x27;s static type checker Flow had been on my radar for a while. Typescript left a bad taste in my mouth that was, in all honesty, more‚Ä¶"/><meta data-react-helmet="true" property="og:title" content="Experiencing Flow"/><meta data-react-helmet="true" property="og:description" content="Facebook&#x27;s static type checker Flow had been on my radar for a while. Typescript left a bad taste in my mouth that was, in all honesty, more‚Ä¶"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="mark luetke"/><meta data-react-helmet="true" name="twitter:title" content="Experiencing Flow"/><meta data-react-helmet="true" name="twitter:description" content="Facebook&#x27;s static type checker Flow had been on my radar for a while. Typescript left a bad taste in my mouth that was, in all honesty, more‚Ä¶"/><link rel="icon" href="/icons/icon-48x48.png?v=b84204207ad74b724941d49b80fbc35d"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=b84204207ad74b724941d49b80fbc35d"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=b84204207ad74b724941d49b80fbc35d"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=b84204207ad74b724941d49b80fbc35d"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=b84204207ad74b724941d49b80fbc35d"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=b84204207ad74b724941d49b80fbc35d"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=b84204207ad74b724941d49b80fbc35d"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=b84204207ad74b724941d49b80fbc35d"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=b84204207ad74b724941d49b80fbc35d"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link as="script" rel="preload" href="/webpack-runtime-a377442e3495f79939bb.js"/><link as="script" rel="preload" href="/app-9f26bfd5ae380716d4ac.js"/><link as="script" rel="preload" href="/styles-d53444be63641e9421d7.js"/><link as="script" rel="preload" href="/commons-0d890c704c4df172e6d4.js"/><link as="script" rel="preload" href="/component---src-templates-blog-template-js-824bc1d315d6f7bfeb9d.js"/><link as="fetch" rel="preload" href="/page-data/170902/experiencing-flow/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="layout__wrapper"><div class="layout__sprinkles"><div style="position:absolute;z-index:-1"><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:25px;color:#50E3C2;transform:rotate(134deg) translate(-27vh, -34vw);opacity:0.0853462092088073">L</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:51px;color:#50E3C2;transform:rotate(135deg) translate(38vh, -35vw);opacity:0.19621956494597265">U</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:96px;color:#50E3C2;transform:rotate(214deg) translate(-49vh, 29vw);opacity:0.10115233715975044">E</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:47px;color:#50E3C2;transform:rotate(339deg) translate(-25vh, 9vw);opacity:0.17898004170707865">T</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:83px;color:#50E3C2;transform:rotate(121deg) translate(0vh, 37vw);opacity:0.1556487842448669">K</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:26px;color:#50E3C2;transform:rotate(353deg) translate(39vh, -32vw);opacity:0.08956854797755825">E</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:82px;color:#50E3C2;transform:rotate(332deg) translate(-29vh, -8vw);opacity:0.17081690943090289">M</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:54px;color:#50E3C2;transform:rotate(127deg) translate(39vh, -49vw);opacity:0.16211082725527665">J</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:16px;color:#50E3C2;transform:rotate(254deg) translate(-36vh, 5vw);opacity:0.1925260388288968"> </div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:44px;color:#50E3C2;transform:rotate(301deg) translate(17vh, 14vw);opacity:0.14169463953038325">~</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:40px;color:#50E3C2;transform:rotate(3deg) translate(-29vh, -41vw);opacity:0.13875394845668304"> </div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:35px;color:#50E3C2;transform:rotate(309deg) translate(24vh, -4vw);opacity:0.08889742977743681">C</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:19px;color:#50E3C2;transform:rotate(315deg) translate(-42vh, 7vw);opacity:0.07079091843790328">h</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:21px;color:#50E3C2;transform:rotate(169deg) translate(6vh, 42vw);opacity:0.1490076880979932">a</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:82px;color:#50E3C2;transform:rotate(305deg) translate(-34vh, -6vw);opacity:0.16062367106813819">n</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:65px;color:#50E3C2;transform:rotate(353deg) translate(47vh, 0vw);opacity:0.10668047853156011">g</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:21px;color:#50E3C2;transform:rotate(350deg) translate(-8vh, 2vw);opacity:0.06862077801949584">e</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:13px;color:#50E3C2;transform:rotate(54deg) translate(44vh, 8vw);opacity:0.1393346758333792"> </div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:72px;color:#50E3C2;transform:rotate(337deg) translate(-28vh, -32vw);opacity:0.15300046384860144">~</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:87px;color:#50E3C2;transform:rotate(199deg) translate(-31vh, -2vw);opacity:0.18676446253488105"> </div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:49px;color:#50E3C2;transform:rotate(211deg) translate(10vh, 1vw);opacity:0.19493541498275113">I</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:28px;color:#50E3C2;transform:rotate(117deg) translate(-18vh, 19vw);opacity:0.1521531337879635">s</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:70px;color:#50E3C2;transform:rotate(226deg) translate(-42vh, 24vw);opacity:0.08476034080312027"> </div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:78px;color:#50E3C2;transform:rotate(141deg) translate(-31vh, -41vw);opacity:0.09317149000392293">~</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:26px;color:#50E3C2;transform:rotate(61deg) translate(-33vh, 6vw);opacity:0.06833657740399961"> </div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:42px;color:#50E3C2;transform:rotate(177deg) translate(43vh, 25vw);opacity:0.15851530081417464">G</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:33px;color:#50E3C2;transform:rotate(27deg) translate(37vh, -28vw);opacity:0.10611300092623757">o</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:13px;color:#50E3C2;transform:rotate(193deg) translate(-39vh, -12vw);opacity:0.19058292547756966">o</div><div style="position:absolute;display:inline-block;transition:all 1000ms ease-in-out;font-size:80px;color:#50E3C2;transform:rotate(158deg) translate(-50vh, -46vw);opacity:0.13012335810483494">d</div></div></div><div class="layout__header"><div class="header"><div class="header__masthead"><a href="/"><img class="header__masthead__name" src="/static/luetkemj-2b4fec3f31a04518aaf0c7a89d7aa77d.svg" alt="luetkemj"/><h2 class="header__masthead__tagline">change is good</h2></a><img class="header__masthead__logo" src="/static/logo-stamp-5798a33a67a7acc50df31ecb8431903c.svg" alt="luetkemj logo"/></div></div></div><div class="layout__content"><div class="blog-template"><div class="blog-template__post"><h2 class="blog-template__date">170902</h2><h1 class="blog-template__title">Experiencing Flow</h1><div class="blog-template__content"><p>Facebook's static type checker <a href="https://flow.org/">Flow</a> had been on my radar for a while. Typescript left a bad taste in my mouth that was, in all honesty, more likely the fault of a bad combination of an early beta of angular2 and ionic. We don't do typing at work. Certain teammates may or may not experience debilitating java flashbacks at the thought of it.</p>
<p>In order to give flow a proper go I decided to try it on a branch of <a href="http://aglet.io/tools/timekeeper/">Aglet Timekeeper</a>. I am in the middle of implementing a new feature and there is, after all, no time like the present. Installation was surprisingly painless. The project already uses babel so I could skip most of the directions on the <a href="https://flow.org/en/docs/install/">installation docs</a>. A couple quick atom extensions for linting and the project was ready to go.</p>
<p>One of the nice things about adding flow to an existing project is it is activated on a per file basis. Meaning you can type check individual files instead of your entire project. üëå</p>
<p>First up was a utils file. This bit of code has a few functions used to build the data needed to display the timekeeper. With a fair bit of logic and some chunky math it seemed like a good choice. One of the selling points for flow is it's ability to find errors in your code. This particular file is already heavily unit tested so the chance of showcasing flow's error snooping skills seemed low.</p>
<p>Time to add some static types to the first function:</p>
<img width="371" alt="screen shot 2017-09-05 at 6 33 00 pm" src="https://user-images.githubusercontent.com/29575193/30087876-c03f1ef8-9268-11e7-8b23-36303979830b.png">
<p>Like so:</p>
<img width="1221" alt="screen shot 2017-09-02 at 10 23 15 pm" src="https://user-images.githubusercontent.com/925980/30000450-f20455e0-9031-11e7-826a-0014771e9ab4.png">
<p>What the hell? The function returns a string. I set it's type to a string. Is flow broken? This sucks. Flow sucks. Searching the error message resulted in bupkiss. I am confused. What am I missing? I can remove the type definition on the function and the error goes away but that's as bad as removing unit tests so you pass CI.</p>
<p>What is Flow trying to tell me?</p>
<p>...</p>
<p>Aha!</p>
<p>The variable sky is declared but never given a value. The conditional logic has no final else clause so it is possible that sky never becomes a string. This is why the error "possibly uninitialized variable" makes sense. It is possible that sky is uninitialized and thus null which is of course not compatible with the type string. Null !== string.</p>
<p><img src="https://media.giphy.com/media/dQNP6OnyFUePu/giphy.gif"></p>
<p>After a quick look around the docs I found that you can prepend a type with a '?' to introduce a "maybe type". Since sky may or may not exist this seemed like a reasonable approach. Tests pass and flow is happy. üòé</p>
<img width="450" alt="screen shot 2017-09-02 at 10 23 44 pm" src="https://user-images.githubusercontent.com/925980/30000486-9d78d026-9033-11e7-954c-62580901a697.png">
<p>Happily typing my way through through the file I made it to the final function. buildTimeUI is the function that (big surprise) actually builds the time data for the UI. It returns an object that I type checked like so:</p>
<img width="654" alt="screen shot 2017-09-02 at 10 24 26 pm" src="https://user-images.githubusercontent.com/925980/30000513-ff9ba7be-9034-11e7-988f-cd76a009f18d.png">
<p>Why isn't this working? Object literal isn't compatible with object literal? What the hell... To get to the bottom of this I decided to run the cli and see if that offered a better explanation.</p>
<img width="489" alt="screen shot 2017-09-02 at 10 25 07 pm" src="https://user-images.githubusercontent.com/925980/30000523-6a8219c8-9035-11e7-975f-c577d46ff0e8.png">
<p>OMG - is this really doing what I think it is? In this function I expect sky to be a string. But I generate that string with the getSky function above which Flow expects to be a maybe type. It may be a string or it may be null.</p>
<p>The two objects are not equal.</p>
<p><img src="https://media.giphy.com/media/uPnKU86sFa2fm/giphy.gif"></p>
<p>How to fix things? Instead of giving the function getSky a maybe type it should instead be typed as a 'string' and sky should be initialized as an empty string. like so:</p>
<img width="432" alt="screen shot 2017-09-02 at 10 24 46 pm" src="https://user-images.githubusercontent.com/925980/30000546-08eb50de-9036-11e7-9502-e5dcd75eb519.png">
<p>Suddenly flow is happy again!</p>
<img width="532" alt="screen shot 2017-09-02 at 10 24 56 pm" src="https://user-images.githubusercontent.com/925980/30000555-75f5f04e-9036-11e7-95d3-b09fb2965441.png">
<p><img src="https://media.giphy.com/media/LxPsfUhFxwRRC/giphy.gif"></p>
<p>After reading the docs a bit further I was able to refactor the typing of the last function a bit to be more consistent with the others.</p>
<img width="541" alt="screen shot 2017-09-02 at 11 16 33 pm" src="https://user-images.githubusercontent.com/925980/30000566-fa58d144-9036-11e7-964d-d7308cbd6b54.png">
<p>Two bugs in a file I was pretty confident about...</p>
<p><img src="https://media.giphy.com/media/NntRfaR7rnE4g/giphy.gif"></p>
<p>My only complaint is the linter could do a better job communicating. But that's not flow's fault.</p>
<p>Two thumbs up. Would Flow again üëçüëç</p></div></div></div><div class="blog-template__nav"><div class="blog-template__nav__previous"><div>‚òú <br/><a href="/180505/netlify-lambdas-as-simple-as-possible">Netlify Lambdas - As Simple As Possible</a></div></div><div class="blog-template__nav__next"><div>‚òû <br/><a href="/170827/aglet-timekeeper-released">Aglet Timekeeper Released</a></div></div></div></div><div class="footer"><ul class="footer__list"><li class="footer__list-item"><a href="https://github.com/luetkemj">github</a></li><li class="footer__list-item"><a href="https://twitter.com/markluetke">twitter</a></li><li class="footer__list-item"><a href="https://www.instagram.com/luetkemj/">instagram</a></li></ul><div title="made with ‚ô• in ATX" class="footer__heart">‚ô•</div><ul class="footer__list"><li class="footer__list-item"><a href="/about">about</a></li><li class="footer__list-item"><a href="/contact">contact</a></li><li class="footer__list-item"><a href="/feed.xml">rss</a></li></ul></div></div></div></div><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-19986266-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-19986266-1', 'auto', {});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/170902/experiencing-flow";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-9f26bfd5ae380716d4ac.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-c5f58849c2f4732d93c1.js"],"component---src-templates-blog-template-js":["/component---src-templates-blog-template-js-824bc1d315d6f7bfeb9d.js"],"component---src-pages-404-js":["/component---src-pages-404-js-f3668216153de52bc118.js"],"component---src-pages-about-js":["/component---src-pages-about-js-cd6c2102c6edc07530d6.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-867d05b8ec8c18754e01.js"],"component---src-pages-index-js":["/component---src-pages-index-js-d301a6fe35467429b647.js"]};/*]]>*/</script><script src="/component---src-templates-blog-template-js-824bc1d315d6f7bfeb9d.js" async=""></script><script src="/commons-0d890c704c4df172e6d4.js" async=""></script><script src="/styles-d53444be63641e9421d7.js" async=""></script><script src="/app-9f26bfd5ae380716d4ac.js" async=""></script><script src="/webpack-runtime-a377442e3495f79939bb.js" async=""></script></body></html>